<div class="top-nav sticky-top">

	<i class="fa fa-lg fa-chevron-left" aria-hidden="true" (click)="goBack();"></i>

	<!-- Make this toggleable a menu if it was created by current user -->
	<span *ngIf="isAdmin">
		<i  class="fa fa-lg fa-bars" aria-hidden="true" (click)='helpPO.toggle($event)'></i>

		<pop-over #helpPO
	    	[y-offset]="10"
	    	[anchor-to]="true"
	    	[my]="'top right'"
	    	[at]="'bottom left'">

		   <div class="popover_container" style="
		   		background-color: black;
				color: #fff;
			">
		       <ul class="legend_list" style="
		       		list-style: none;
					padding-left: 0px;
					margin-bottom: 0px;
		       ">
		       		<li class="legend" (click)="editVenue()" style="
		       			border-bottom: 1px solid #e18047;
						padding: 2.5px 10px;
		       		">
		       			Edit Venue
		       		</li>

		       		<li class="legend" (click)="addEvent()" style="
		       			border-bottom: 1px solid #e18047;
						padding: 2.5px 10px;
		       		">
		       			Add Events
		       		</li>

		       		<li class="legend" (click)="editMenu()" style="
		       			border-bottom: 1px solid #e18047;
						padding: 2.5px 10px;
		       		">
		       			Edit Menu
		       		</li>
		       </ul>
		   </div>
		</pop-over>
	</span>

</div>

<div class="venue-component">

	<div class="venue_details_container" *ngIf="venue.payload">

		<img class="venue_image" [src]="venue.payload.val().imageUrl">

		<div class="details">
			<span class="name">{{venue.payload.val().name}}</span>

			<div class="distance_and_address">
				<span class="distance">10 km away</span> - <span class="address">{{venue.payload.val().address}}</span>
			</div>
		</div>
	</div>

	<!-- Venue bottle service menu -->
	<div class="menu">
		<h4>MENU</h4>

		<!-- menu goes below, separated by categories -->

		<!-- Repeat for each category --> 
		<table class="table menu_items">
			<thead>
				<tr>
					<th scope="col">Name</th>
					<th scope="col">Price</th>
				</tr>
			</thead>

			<tbody>
				<tr class="menu_item" *ngFor="let item of menu">
					<td>{{item.payload.val().name}}</td> 
					<td>${{item.payload.val().price}}</td>
				</tr>
			</tbody>
		</table>

		<button class="btn make_rsrv" (click)="orderBottles()">Order Bottles</button>

	</div>

	<!-- Venue bottle service menu ends-->

	<!-- Venue events -->
	<div class="events">

		<app-venue-event-list [events]="events$"></app-venue-event-list>

		<!-- Old events list 
			<table class="table table-striped">
				<tr>
					<th>Event Name</th>
					<th>Date</th>
				</tr>

					<tr *ngFor="let event of events$" (click)="getEventDetails(event);">
						<td>{{event.payload.val().name}}</td>
						<td>{{event.payload.val().date | date:'medium'}}</td>
					</tr>

				<div class="events-loading">

					<mat-spinner
						[color]="yellow"
						*ngIf="!events$"></mat-spinner>

				</div>
			</table>
		--> 
	</div>
	<!-- Venue events ENDS-->

</div>
<app-footer></app-footer>